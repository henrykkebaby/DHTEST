{"version":3,"file":"react-firestore.umd.js","sources":["../../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","../../src/FirestoreCache.js","../../src/FirestoreProvider.js","../../src/Firestore.js","../../node_modules/@babel/runtime/helpers/esm/extends.js","../../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../node_modules/react-is/cjs/react-is.production.min.js","../../node_modules/react-is/cjs/react-is.development.js","../../node_modules/react-is/index.js","../../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","../../src/withFirestore.js","../../src/utils/deepEqual.js","../../src/FirestoreCollection.js","../../src/FirestoreDocument.js"],"sourcesContent":["export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","export default class FirestoreCache {}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport FirestoreCache from './FirestoreCache';\n\nexport const FirestoreContext = React.createContext(null);\n\nexport default class FirestoreProvider extends Component {\n  static propTypes = {\n    firebase: PropTypes.object.isRequired,\n    children: PropTypes.node.isRequired,\n    useTimestampsInSnapshots: PropTypes.bool,\n  };\n\n  static defaultProps = {};\n\n  constructor(props) {\n    super(props);\n\n    const { firebase, useTimestampsInSnapshots } = props;\n    const firestore = firebase.firestore();\n    if (typeof useTimestampsInSnapshots !== 'undefined') {\n      const settings = { timestampsInSnapshots: useTimestampsInSnapshots };\n      firestore.settings(settings);\n    }\n\n    this.state = {\n      firestoreDatabase: firestore,\n      firestoreCache: new FirestoreCache(),\n    };\n  }\n\n  render() {\n    return (\n      <FirestoreContext.Provider value={this.state}>\n        {this.props.children}\n      </FirestoreContext.Provider>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FirestoreContext } from './FirestoreProvider';\n\nconst Firestore = ({ render }) => (\n  <FirestoreContext.Consumer>\n    {({ firestoreDatabase }) => render({ firestore: firestoreDatabase })}\n  </FirestoreContext.Consumer>\n);\n\nFirestore.propTypes = {\n  render: PropTypes.func.isRequired,\n};\n\nexport default Firestore;\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","/** @license React v16.8.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0});\nvar b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?Symbol.for(\"react.memo\"):\n60115,r=b?Symbol.for(\"react.lazy\"):60116;function t(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case h:return a;default:return u}}case r:case q:case d:return u}}}function v(a){return t(a)===m}exports.typeOf=t;exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;\nexports.Fragment=e;exports.Lazy=r;exports.Memo=q;exports.Portal=d;exports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||\"object\"===typeof a&&null!==a&&(a.$$typeof===r||a.$$typeof===q||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n)};exports.isAsyncMode=function(a){return v(a)||t(a)===l};exports.isConcurrentMode=v;exports.isContextConsumer=function(a){return t(a)===k};\nexports.isContextProvider=function(a){return t(a)===h};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return t(a)===n};exports.isFragment=function(a){return t(a)===e};exports.isLazy=function(a){return t(a)===r};exports.isMemo=function(a){return t(a)===q};exports.isPortal=function(a){return t(a)===d};exports.isProfiler=function(a){return t(a)===g};exports.isStrictMode=function(a){return t(a)===f};\nexports.isSuspense=function(a){return t(a)===p};\n","/** @license React v16.8.1\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\n\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace;\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' ||\n  // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE);\n}\n\n/**\n * Forked from fbjs/warning:\n * https://github.com/facebook/fbjs/blob/e66ba20ad5be433eb54423f2b097d829324d9de6/packages/fbjs/src/__forks__/warning.js\n *\n * Only change is we use console.warn instead of console.error,\n * and do nothing when 'console' is not supported.\n * This really simplifies the code.\n * ---\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar lowPriorityWarning = function () {};\n\n{\n  var printWarning = function (format) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    var argIndex = 0;\n    var message = 'Warning: ' + format.replace(/%s/g, function () {\n      return args[argIndex++];\n    });\n    if (typeof console !== 'undefined') {\n      console.warn(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n\n  lowPriorityWarning = function (condition, format) {\n    if (format === undefined) {\n      throw new Error('`lowPriorityWarning(condition, format, ...args)` requires a warning ' + 'message argument');\n    }\n    if (!condition) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n\n      printWarning.apply(undefined, [format].concat(args));\n    }\n  };\n}\n\nvar lowPriorityWarning$1 = lowPriorityWarning;\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n              default:\n                return $$typeof;\n            }\n        }\n      case REACT_LAZY_TYPE:\n      case REACT_MEMO_TYPE:\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n}\n\n// AsyncMode is deprecated along with isAsyncMode\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\n\nvar hasWarnedAboutDeprecatedIsAsyncMode = false;\n\n// AsyncMode should be deprecated\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true;\n      lowPriorityWarning$1(false, 'The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.typeOf = typeOf;\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isValidElementType = isValidElementType;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","'use strict';\n\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\nvar ReactIs = require('react-is');\nvar REACT_STATICS = {\n    childContextTypes: true,\n    contextType: true,\n    contextTypes: true,\n    defaultProps: true,\n    displayName: true,\n    getDefaultProps: true,\n    getDerivedStateFromError: true,\n    getDerivedStateFromProps: true,\n    mixins: true,\n    propTypes: true,\n    type: true\n};\n\nvar KNOWN_STATICS = {\n    name: true,\n    length: true,\n    prototype: true,\n    caller: true,\n    callee: true,\n    arguments: true,\n    arity: true\n};\n\nvar FORWARD_REF_STATICS = {\n    '$$typeof': true,\n    render: true,\n    defaultProps: true,\n    displayName: true,\n    propTypes: true\n};\n\nvar MEMO_STATICS = {\n    '$$typeof': true,\n    compare: true,\n    defaultProps: true,\n    displayName: true,\n    propTypes: true,\n    type: true\n};\n\nvar TYPE_STATICS = {};\nTYPE_STATICS[ReactIs.ForwardRef] = FORWARD_REF_STATICS;\n\nfunction getStatics(component) {\n    if (ReactIs.isMemo(component)) {\n        return MEMO_STATICS;\n    }\n    return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\n\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n    if (typeof sourceComponent !== 'string') {\n        // don't hoist over string (html) components\n\n        if (objectPrototype) {\n            var inheritedComponent = getPrototypeOf(sourceComponent);\n            if (inheritedComponent && inheritedComponent !== objectPrototype) {\n                hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n            }\n        }\n\n        var keys = getOwnPropertyNames(sourceComponent);\n\n        if (getOwnPropertySymbols) {\n            keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n        }\n\n        var targetStatics = getStatics(targetComponent);\n        var sourceStatics = getStatics(sourceComponent);\n\n        for (var i = 0; i < keys.length; ++i) {\n            var key = keys[i];\n            if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n                var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n                try {\n                    // Avoid failures from read-only properties\n                    defineProperty(targetComponent, key, descriptor);\n                } catch (e) {}\n            }\n        }\n\n        return targetComponent;\n    }\n\n    return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { FirestoreContext } from './FirestoreProvider';\n\nconst withFirestore = Component => {\n  const C = ({ wrappedComponentRef, ...remainingProps }) => (\n    <FirestoreContext.Consumer>\n      {value => {\n        if (!value) {\n          throw new Error('FirestoreProvider is missing');\n        }\n        const { firestoreDatabase } = value;\n        return (\n          <Component\n            {...remainingProps}\n            firestore={firestoreDatabase}\n            ref={wrappedComponentRef}\n          />\n        );\n      }}\n    </FirestoreContext.Consumer>\n  );\n  C.displayName = `withFirestore(${Component.displayName || Component.name})`;\n  C.WrappedComponent = Component;\n  C.propTypes = {\n    wrappedComponentRef: PropTypes.func,\n  };\n\n  return hoistStatics(C, Component);\n};\n\nexport default withFirestore;\n","/**\n * Deep equality comparison for Arrays\n * @param {Array} a The array to compare against\n * @param {Array} b The array to compare with\n * @returns {boolean} If the two arrays are equal\n */\nexport default function deepEqual(a, b) {\n  if (Array.isArray(a) && Array.isArray(b)) {\n    if (a.length !== b.length) {\n      return false;\n    }\n\n    for (let i = 0; i < a.length; i++) {\n      if (!deepEqual(a[i], b[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  } else {\n    return a === b;\n  }\n}\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport withFirestore from './withFirestore';\nimport deepEqual from './utils/deepEqual';\n\nclass FirestoreCollection extends Component {\n  static propTypes = {\n    path: PropTypes.string.isRequired,\n    sort: PropTypes.string,\n    limit: PropTypes.number,\n    filter: PropTypes.oneOfType([\n      PropTypes.arrayOf(\n        PropTypes.oneOfType([\n          PropTypes.string,\n          PropTypes.number,\n          PropTypes.object,\n        ]),\n      ),\n      PropTypes.arrayOf(PropTypes.array),\n    ]),\n    children: PropTypes.func,\n    render: PropTypes.func,\n    firestore: PropTypes.object.isRequired,\n  };\n\n  state = {\n    isLoading: true,\n    data: [],\n    error: null,\n    snapshot: null,\n  };\n\n  componentDidMount() {\n    this.setupFirestoreListener();\n  }\n\n  componentWillUnmount() {\n    this.handleUnsubscribe();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (\n      nextProps.path !== this.props.path ||\n      nextProps.sort !== this.props.sort ||\n      nextProps.limit !== this.props.limit ||\n      !deepEqual(nextProps.filter, this.props.filter)\n    ) {\n      this.handleUnsubscribe();\n\n      this.setState({ isLoading: true }, () => this.setupFirestoreListener());\n    }\n  }\n\n  handleUnsubscribe() {\n    if (this.unsubscribe) {\n      this.unsubscribe();\n    }\n  }\n\n  setupFirestoreListener = () => {\n    const { firestore, path, ...queryProps } = this.props;\n    const collectionRef = firestore.collection(path);\n    const query = this.buildQuery(collectionRef, queryProps);\n\n    this.unsubscribe = query.onSnapshot(\n      this.handleOnSnapshotSuccess,\n      this.handleOnSnapshotError,\n    );\n  };\n\n  handleOnSnapshotSuccess = snapshot => {\n    if (snapshot) {\n      this.setState({\n        isLoading: false,\n        data: snapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data(),\n        })),\n        error: null,\n        snapshot,\n      });\n    }\n  };\n\n  handleOnSnapshotError = error => {\n    this.setState({\n      isLoading: false,\n      data: [],\n      error,\n      snapshot: null,\n    });\n  };\n\n  buildQuery = (collectionRef, queryProps) => {\n    const { sort, limit, filter } = queryProps;\n    let query = collectionRef;\n\n    if (sort) {\n      sort.split(',').forEach(sortItem => {\n        const [field, order] = sortItem.split(':');\n\n        query = query.orderBy(field, order);\n      });\n    }\n\n    if (limit) {\n      query = query.limit(limit);\n    }\n\n    if (filter) {\n      //if filter is array of array, build the compound query\n      if (Array.isArray(filter[0])) {\n        filter.forEach(clause => {\n          query = query.where(...clause);\n        });\n      } else {\n        //build the simple query\n        query = query.where(...filter);\n      }\n    }\n\n    return query;\n  };\n\n  render() {\n    const { children, render } = this.props;\n\n    if (render) return render(this.state);\n\n    if (typeof children === 'function') return children(this.state);\n\n    return null;\n  }\n}\n\nexport default withFirestore(FirestoreCollection);\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport withFirestore from './withFirestore';\n\nclass FirestoreDocument extends Component {\n  static propTypes = {\n    path: PropTypes.string.isRequired,\n    children: PropTypes.func,\n    render: PropTypes.func,\n    firestore: PropTypes.object.isRequired,\n  };\n\n  state = {\n    isLoading: true,\n    data: null,\n    error: null,\n    snapshot: null,\n  };\n\n  componentDidMount() {\n    this.setupFirestoreListener();\n  }\n\n  componentWillUnmount() {\n    this.handleUnsubscribe();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.path !== this.props.path) {\n      this.handleUnsubscribe();\n\n      this.setState({ isLoading: true }, () => this.setupFirestoreListener());\n    }\n  }\n\n  handleUnsubscribe() {\n    if (this.unsubscribe) {\n      this.unsubscribe();\n    }\n  }\n\n  setupFirestoreListener = () => {\n    const { firestore, path } = this.props;\n    const documentRef = firestore.doc(path);\n\n    this.unsubscribe = documentRef.onSnapshot(\n      this.handleOnSnapshotSuccess,\n      this.handleOnSnapshotError,\n    );\n  };\n\n  handleOnSnapshotError = error => {\n    this.setState({\n      isLoading: false,\n      error,\n      data: null,\n      snapshot: null,\n    });\n  };\n\n  handleOnSnapshotSuccess = snapshot => {\n    if (snapshot) {\n      const newState = {\n        isLoading: false,\n        error: null,\n        snapshot,\n      };\n\n      try {\n        const documentData = snapshot.data();\n\n        newState.data = {\n          id: snapshot.id,\n          ...documentData,\n        };\n      } catch (error) {\n        newState.error = error;\n      }\n\n      this.setState(newState);\n    }\n  };\n\n  render() {\n    const { children, render } = this.props;\n\n    if (render) return render(this.state);\n\n    if (typeof children === 'function') return children(this.state);\n\n    return null;\n  }\n}\n\nexport default withFirestore(FirestoreDocument);\n"],"names":["_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","__proto__","FirestoreCache","FirestoreContext","React","createContext","FirestoreProvider","props","firebase","useTimestampsInSnapshots","firestore","settings","timestampsInSnapshots","state","firestoreDatabase","firestoreCache","render","children","Component","defaultProps","Firestore","_extends","assign","target","i","arguments","length","source","key","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","defineProperty","exports","value","b","Symbol","for","c","d","e","f","g","h","k","l","m","n","p","q","r","t","a","u","$$typeof","type","v","hasSymbol","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONTEXT_TYPE","REACT_ASYNC_MODE_TYPE","REACT_CONCURRENT_MODE_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","lowPriorityWarning","printWarning","format","_len","args","Array","_key","argIndex","message","replace","console","warn","Error","x","condition","undefined","_len2","_key2","concat","lowPriorityWarning$1","typeOf","object","$$typeofType","hasWarnedAboutDeprecatedIsAsyncMode","isAsyncMode","isConcurrentMode","module","require$$1","REACT_STATICS","childContextTypes","contextType","contextTypes","displayName","getDefaultProps","getDerivedStateFromError","getDerivedStateFromProps","mixins","propTypes","KNOWN_STATICS","name","caller","callee","arity","FORWARD_REF_STATICS","MEMO_STATICS","compare","TYPE_STATICS","ReactIs","ForwardRef","getStatics","component","isMemo","getOwnPropertyNames","getOwnPropertySymbols","getOwnPropertyDescriptor","getPrototypeOf","objectPrototype","hoistNonReactStatics","targetComponent","sourceComponent","blacklist","inheritedComponent","targetStatics","sourceStatics","descriptor","withFirestore","C","wrappedComponentRef","remainingProps","WrappedComponent","hoistStatics","deepEqual","isArray","FirestoreCollection","isLoading","data","error","snapshot","setupFirestoreListener","path","queryProps","collectionRef","collection","query","buildQuery","unsubscribe","onSnapshot","handleOnSnapshotSuccess","handleOnSnapshotError","setState","docs","map","doc","id","sort","limit","filter","split","forEach","sortItem","field","order","orderBy","clause","where","componentDidMount","componentWillUnmount","handleUnsubscribe","componentWillReceiveProps","nextProps","FirestoreDocument","documentRef","newState","documentData"],"mappings":"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"}